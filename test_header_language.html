<!DOCTYPE html>
<html>
<head>
    <title>Header Language Test</title>
    <script>
        // Simulate the header's language state management
        let currentLanguage = 'en';
        let availableLanguages = [
            { code: 'en', name: 'English', native_name: 'English', flag: 'ðŸ‡ºðŸ‡¸', direction: 'ltr', is_current: true },
            { code: 'ar', name: 'Arabic', native_name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ðŸ‡¸ðŸ‡¦', direction: 'rtl', is_current: false },
            { code: 'fr', name: 'French', native_name: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·', direction: 'ltr', is_current: false },
            { code: 'es', name: 'Spanish', native_name: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸', direction: 'ltr', is_current: false },
            { code: 'de', name: 'German', native_name: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª', direction: 'ltr', is_current: false }
        ];

        function updateLanguageState(newLang) {
            console.log('Updating language state to:', newLang);
            currentLanguage = newLang;
            
            // Update is_current property for all languages
            availableLanguages = availableLanguages.map(lang => ({
                ...lang,
                is_current: lang.code === newLang
            }));
            
            console.log('Updated availableLanguages:', availableLanguages.map(l => ({ code: l.code, is_current: l.is_current })));
        }

        // Test language switching
        console.log('Initial state:', currentLanguage);
        updateLanguageState('ar');
        updateLanguageState('fr');
        updateLanguageState('es');
        updateLanguageState('de');
        updateLanguageState('en');
    </script>
</head>
<body>
    <h1>Header Language State Test</h1>
    <p>Check console for language state updates</p>
</body>
</html>
